# Контролна работа №1 (практика)

**Операционни системи, ТУЕС 2024-2025**
Дата - 15.01.2025 г. | Време за работа - 55 минути | Максимален брой точки - 400
точки

## Задача 1 - `copy` (200 точки)

- Напишете програма на C, аналогична със системната команда `cp` (copy).

- Програмата трябва да приема два задължителни командни аргумента - името на
  вече съществуваща директория/файл (източник) и дестинацията - директория, където
  ще се копира.

- Програмата трябва да проверява дали източника съществува. При липсата на файл
  или директория с такъв път, програмата трябва да изведе съобщение за грешка и
  да приключи изпълнението си.

- Програмата трябва да проверява дали дестинацията е директория. Ако не е,
  кодът ви трябва да изведе грешка.

- Ако източникът е файл, той се копира в директорията със със същото име. За целта
  трябва да използвате системните извиквания `open`, `read`, `write`, т.н.

- Ако източникът е директория, всички файлове в нея се копират в директорията на
  дестинацията. Директориите да не се копират (освен, ако не работите по бонуса,
  виж последната точка).

- Програмата трябва да използва системните извиквания `opendir`, `readdir`, `closedir`
  и т.н.

- Трябва да обработвате грешките от системните извиквания.

- Програмата трябва да се компилира без грешки с `gcc -Wall -Wextra -pedantic -std=c11`.

- **Бонус (50 точки)**:
  Ако дестинацията е директория, да се копират и под директориите ѝ рекурсивно.

## Задача 2 - `pseudo-shellscript` (200 точки)

- Напишете програма на C, която чете от стандартния вход редове, които представляват
  shell команди, докато не се прочете думата "END" или не се достигне EOF.

  - Примерен вход:

    ```sh
    ls -l
    echo example
    END
    ```

- Програмата трябва да изпълни всяка една от командите последователно, като всяка отделна команда трябва да е на отделен процес.

- Програмата трябва да използва системните извиквания `fork`, `exec`, `wait` и т.н.

- Ако някоя от програмите завърши с код различен от 0 или е "убита" по време на изпълнение, нека се изпише подходяща грешка за това.

- Трябва да обработвате грешките от системните извиквания.

- Програмата трябва да се компилира без грешки с `gcc -Wall -Wextra -pedantic -std=c11`.
